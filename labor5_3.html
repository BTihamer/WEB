<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8" />
  <title>Vue + Firebase ‚Äì alap worksheet</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- 1) K√©sz√≠ts √∫j HTML f√°jlt √©s illeszd be EZT a head-be: -->
  <!-- Vue 3 (global build, egyszer≈± kipr√≥b√°l√°shoz) -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <!-- Firebase (CDN, modular SDK ‚Äì Firestore-hoz √©s Auth-hoz) -->
  <!-- Tipp: a verzi√≥sz√°mot (10.x.x) hagyd meg/√°ll√≠tsd a doksi szerint. -->
  <script type="module">
    // Ezt a <script type="module"> blokkot meghagyjuk az oldal ALJ√ÅN is ‚Äì ott lesz a k√≥d.
    // Itt csak az√©rt szerepel, hogy a b√∂ng√©sz≈ë el≈ëre felk√©sz√ºlj√∂n a module futtat√°sra.
  </script>

  <style>
    :root { --gap: 1rem; }
    * { box-sizing: border-box; }
    body { font-family: system-ui, Segoe UI, Roboto, Arial, sans-serif; margin: 0; background: #f7f7f8; color: #222; }
    header { padding: 1rem; border-bottom: 1px solid #eee; background: #fff; }
    main { max-width: 900px; margin: 0 auto; padding: 1rem; }
    section { background: #fff; border: 1px solid #eee; border-radius: .75rem; padding: 1rem; margin: 1rem 0; }
    .stack { display: grid; gap: var(--gap); }
    .row { display: grid; grid-template-columns: 1fr auto; gap: .5rem; align-items: center; }
    input, button { font: inherit; }
    input { padding: .6rem .7rem; border: 1px solid #ccc; border-radius: .5rem; }
    button { padding: .6rem .9rem; border: 0; border-radius: .5rem; background: #0d6efd; color: #fff; cursor: pointer; }
    button.secondary { background: #6c757d; }
    ul { padding-left: 1.2rem; }
    li { margin: .25rem 0; }
    code, pre { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }
    pre { background:#f1f3f5; padding: .75rem; border-radius: .5rem; overflow:auto; }
    .muted { color:#666; }
  </style>
</head>
<body>
  <header>
    <strong>Vue + Firebase ‚Äì alapok</strong>
    <div class="muted">√ìrai worksheet: kis Vue app + Firestore ment√©s/olvas√°s. K√≥dmint√°k ‚Üì, megold√°st a di√°k √≠rja meg.</div>
  </header>

  <main class="stack">

    <!-- A) VUE ALAP ‚Äì lok√°lis √°llapot (Firebase n√©lk√ºl) -->
    <section id="vue-only" class="stack">
      <h2>A) Vue ‚Äì minim√°l app</h2>
      <ol>
        <li>Hozz l√©tre egy Vue appot: <code>Vue.createApp({...}).mount('#app')</code>.</li>
        <li>√Ållapot: <code>items: []</code>, <code>newText: ''</code>.</li>
        <li>M≈±veletek: <code>addItem()</code> (push a list√°ba), <code>removeItem(i)</code>.</li>
      </ol>

      <div id="app" class="stack">
        <!-- TODO: a di√°k t√∂lti ki a v-model + @submit.prevent logik√°t -->
        <form class="row" @submit.prevent="addItem">
          <input v-model="newText" placeholder="√öj elem..." />
          <button>Hozz√°ad</button>
        </form>

        <ul>
          <li v-for="(it, i) in items" :key="i">
            {{ it.text }}
            <button class="secondary" @click="removeItem(i)">T√∂rl√©s</button>
          </li>
        </ul>
      </div>

      <pre>// Minta (v√°zlat) ‚Äì a di√°k fejezi be:
const app = Vue.createApp({
  data(){ return { items: [], newText: '' } },
  methods:{
    addItem(){
      // TODO: ha newText nem √ºres ‚Üí this.items.push({ text: this.newText, createdAt: Date.now() })
      // majd √ºr√≠tsd ki a newText-et
    },
    removeItem(i){
      // TODO: this.items.splice(i, 1)
    }
  }
});
app.mount('#app');</pre>
    </section>

    <!-- B) FIREBASE BEK√ñT√âS ‚Äì Firestore (CDN, modular) -->
    <section id="firebase" class="stack">
      <h2>B) Firebase ‚Äì Firestore (CDN, modular)</h2>
      <ol>
        <li>K√©sz√≠ts projektet a <em>Firebase Console</em>-ban, regisztr√°lj Web Appot, m√°sold ki a <strong>config</strong>-ot.</li>
        <li>Importok (CDN, <code>type="module"</code>): <code>initializeApp</code>, <code>getFirestore</code>, <code>collection</code>, <code>addDoc</code>, <code>onSnapshot</code>, <code>query</code>, <code>orderBy</code>, <code>deleteDoc</code>, <code>doc</code>.</li>
        <li>Olvas√°s: <code>onSnapshot(query(...))</code> ‚Üí friss√≠tsd a Vue <code>items</code>-t.</li>
        <li>√çr√°s: <code>addDoc(collection(db,'items'), {text, createdAt: Date.now()})</code>.</li>
        <li>T√∂rl√©s: <code>deleteDoc(doc(db, 'items', id))</code>.</li>
      </ol>

      <pre>// CDN importok (p√©lda ‚Äì verzi√≥sz√°mot friss√≠tsd a doksi szerint):
import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js';
import { getFirestore, collection, addDoc, onSnapshot, query, orderBy, deleteDoc, doc }
  from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js';

// 1) Config ‚Äì ezt a Console adja, IDE ILLeszd be:
const firebaseConfig = {
  // apiKey: '...', authDomain: '...', projectId: '...', stb.
};

// 2) Init
const fbApp = initializeApp(firebaseConfig);
const db = getFirestore(fbApp);

// 3) Realtime olvas√°s (v√°zlat)
const q = query(collection(db, 'items'), orderBy('createdAt', 'asc'));
onSnapshot(q, (snap) => {
  // TODO: √°ll√≠tsd √°t a VUE √°llapotot a snap alapj√°n (id + data())
});

// 4) √çr√°s (v√°zlat)
async function addToDb(text){
  // TODO: addDoc(collection(db,'items'), { text, createdAt: Date.now() })
}

// 5) T√∂rl√©s (v√°zlat)
async function removeFromDb(id){
  // TODO: deleteDoc(doc(db,'items', id))
}</pre>

      <div class="muted">
        Tipp: CDN-es Firebase modulok √©s Vue CDN gyorsstart: l√°sd a hivatalos doksit.  
        (Firebasen√©l alternat√≠v CDN be√°ll√≠t√°sok √©s modular API; Vue-n√°l CDN quick start.)
      </div>
    </section>

    <!-- C) K√ñZ√ñS MINI-FELADAT ‚Äì ‚ÄúK√∂z√∂s lista Firestore-ral‚Äù -->
    <section id="task" class="stack">
      <h2>C) K√∂z√∂s mini-feladat (√≥ra)</h2>
      <ol>
        <li>K√∂sd √∂ssze az A) Vue list√°t a B) Firestore-ral: <em>addItem()</em> ‚Üí <code>addToDb()</code>, <em>removeItem()</em> ‚Üí <code>removeFromDb(id)</code>.</li>
        <li><strong>Realtimen</strong> jelenjen meg minden g√©pen (pr√≥b√°ljatok ki ketten ugyanarra a kollekci√≥ra mutatva).</li>
        <li>Adatmodell: <code>{ text: string, createdAt: number }</code>, doksi ID-t t√°rold pl. <code>it.id</code>-be.</li>
      </ol>
      <div class="muted">Biztons√°g: fejleszt√©shez ideiglenesen ‚Äútest mode‚Äù szab√°lyok j√≥k, √©lesben haszn√°lj szab√°lyokat (auth alapj√°n).</div>
    </section>

    <!-- D) EXTRA (opci√≥): AUTH + n√©v -->
    <section id="extra" class="stack">
      <h2>D) (Opcion√°lis) Auth + n√©v</h2>
      <ol>
        <li>Google bejelentkez√©s (Popup): <code>getAuth</code>, <code>GoogleAuthProvider</code>, <code>signInWithPopup</code>.</li>
        <li>Ment√©skor tedd bele a felhaszn√°l√≥ nev√©t / uid-j√°t: <code>{ text, uid, name }</code>.</li>
        <li>List√°ban jelezd a saj√°t elemeket (pl. f√©lk√∂v√©r).</li>
      </ol>
      <pre>// Auth v√°zlat:
import { getAuth, GoogleAuthProvider, signInWithPopup, onAuthStateChanged }
  from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js';

const auth = getAuth(fbApp);
const provider = new GoogleAuthProvider();

async function signIn(){ await signInWithPopup(auth, provider); }

onAuthStateChanged(auth, (user) => {
  // TODO: mentsd egy Vue state-be (currentUser), UI friss√≠t√©se
});</pre>
    </section>

    <!-- E) H√ÅZI FELADAT (nem t√∫l neh√©z) -->
    <section id="homework" class="stack">
      <h2>üè† H√°zi feladat (v√°lassz 1-et)</h2>

      <h3>1) Vend√©gk√∂nyv (Firestore + Vue)</h3>
      <ul>
        <li>≈∞rlap: n√©v (nem k√∂telez≈ë), √ºzenet (k√∂telez≈ë).</li>
        <li>Ment√©s: Firestore <code>messages</code> kollekci√≥ba: <code>{ text, name, createdAt }</code>.</li>
        <li>Lista: id≈ërend szerint, realtime friss√ºlj√∂n.</li>
        <li><em>Extra:</em> t√∂rl√©s gomb a saj√°t √ºzeneted mellett (Auth-pal).</li>
      </ul>

      <h3>2) Szavaz√°s (Firestore + Vue)</h3>
      <ul>
        <li>K√©t gomb: üëç √©s üëé, sz√°ml√°l√≥k Firestore-ban (dokumentum mez≈ëk).</li>
        <li>Kattint√°s ‚Üí tranzakci√≥/inkrement: <code>updateDoc</code> / <code>increment(1)</code>.</li>
        <li>Realtime ki√≠r√°s (onSnapshot).</li>
        <li><em>Extra:</em> egyszer szavazhass csak (uid/ip n√©lk√ºl el√©g ha lok√°lis flag).</li>
      </ul>

      <h3>Lead√°s</h3>
      <ul>
        <li>Egy f√°jl (vagy kis projekt mapp√°ban), r√∂vid README: mit csin√°l, hogyan pr√≥b√°lhat√≥ ki.</li>
        <li>K√©perny≈ëk√©p a m≈±k√∂d√©sr≈ël.</li>
      </ul>
    </section>

    <section class="stack">
      <h2>Hasznos linkek</h2>
      <ul>
        <li>Firebase web setup (config + modul√°ris importok, CDN): hivatalos doksi. :contentReference[oaicite:0]{index=0}</li>
        <li>Vue 3 ‚Äì Quick Start / CDN haszn√°lat: hivatalos doksi. :contentReference[oaicite:1]{index=1}</li>
      </ul>
    </section>
  </main>

  <!-- üîΩ Itt j√∂n a t√©nyleges JS ‚Äì a di√°k itt dolgozik tov√°bb -->
  <script type="module">
    // === VUE ALAP (MEGOLD√ÅSHEZ V√ÅZLAT ‚Äì eg√©sz√≠tsd ki) =========================
    const app = Vue.createApp({
      data(){ return { items: [], newText: '', currentUser: null } },
      methods:{
        addItem(){
          // TODO: ha van Firebase k√∂t√©s, h√≠vd a addToDb(this.newText)-et,
          // k√ºl√∂nben lok√°lisan pushold be:
          if (!this.newText.trim()) return;
          this.items.push({ id: crypto.randomUUID(), text: this.newText, createdAt: Date.now() });
          this.newText = '';
        },
        removeItem(i){
          // TODO: Firebase eset√©n removeFromDb(id); itt csak lok√°lis:
          this.items.splice(i, 1);
        }
      }
    });

    // A VUE p√©ld√°ny a DOM ut√°n mountol√≥dik:
    const vm = app.mount('#app');

    // === FIREBASE K√ñT√âS (OPCION√ÅLIS az √≥r√°n, k√∂telez≈ë a h√°ziban) ==============
    // 1) IMPORTOK ‚Äì FRISS√çTSD a verzi√≥t a Firebase doksi szerint!
    // Megjegyz√©s: ha most offline/√≥r√°n nincs config, hagyd kommentben.
    /*
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js';
    import { getFirestore, collection, addDoc, onSnapshot, query, orderBy, deleteDoc, doc }
      from 'https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js';

    const firebaseConfig = {
      // TODO: ide illeszd a Console-b√≥l a saj√°t configodat
    };

    const fbApp = initializeApp(firebaseConfig);
    const db = getFirestore(fbApp);

    // Realtime olvas√°s ‚Üí Vue state friss√≠t√©se
    const q = query(collection(db, 'items'), orderBy('createdAt', 'asc'));
    onSnapshot(q, (snap) => {
      vm.items = snap.docs.map(d => ({ id: d.id, ...d.data() }));
    });

    // √çr√°s / T√∂rl√©s helper
    async function addToDb(text){
      if (!text?.trim()) return;
      await addDoc(collection(db, 'items'), { text, createdAt: Date.now() });
    }
    async function removeFromDb(id){
      await deleteDoc(doc(db, 'items', id));
    }

    // K√∂sd be a Vue met√≥dusokba (ha szeretn√©d Firebase-re ir√°ny√≠tani):
    vm.addItem = async function(){
      if (!this.newText.trim()) return;
      await addToDb(this.newText);
      this.newText = '';
    };
    vm.removeItem = async function(i){
      const id = this.items[i]?.id;
      if (id) await removeFromDb(id);
    };
    */
  </script>
</body>
</html>
